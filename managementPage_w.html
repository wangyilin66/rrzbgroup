<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>通知管理</title>
	<link rel="stylesheet" href="./layui/css/layui.css">
	<link rel="stylesheet" href="./css/hyfind.css">
	<link rel="stylesheet" href="./css/header.css">
	<style>
		.content_nav {
			width: 80%;
			padding-bottom: 260px;
		}

		.content {
			height: auto;
		}

		.c_n_lis {
			width: 100%;
            display: flex;
            margin-top: 70px;
			position: relative;
        }
        
        .n_l_cont{
            font-size: 14px;
        }
        .pp{
            font-size: 14px;
        }
        .btinp{
            width: 312px;
            height: 32px;
            border:0;
            border-radius: 6px;
			padding-left: 10px;
	
        }
        .n_l_cont2{
            margin-left: 50px;
        }

        .layui-input{
            width: 312px;
        }
        .n_l_butbox{
            position: absolute;
            top:19px;
            right:0;
            display: flex;
        }
        .n_l_butbox > div{
            width: 106px;
            height: 32px;
            text-align: center;
            line-height: 32px;
            font-size: 16px;
            color: #fff;
            background: #0181FD;
            border-radius: 6px;
            margin-left: 10px;
            cursor:pointer;
        }
        .sanchu{
            background: #FF5722 !important;
        }
        .pop_up{
            position: fixed;
            left: 0;
            top:0;
            width: 100%;
            background: rgba(0, 0, 0,0.3);
            z-index: 999;
        }
        .send_message_box{
            width: 685px;
            height: 700px;
            margin-left: -343px;
            background: #fff;
            position: absolute;
            left: 50%;
            top:100px;
        }
        .send_message_box > p{
            font-size: 16px;
            padding-left: 10px;
            width: 100%;
            box-sizing: border-box;
            line-height: 60px;
            border-bottom: 1px solid #ccc;
        }
        .m_b_but{
            margin-top: 20px;
            display: flex;
        }
        .m_b_but > div{
            width: 80px;
            height: 45px;
            text-align: center;
            line-height: 45px;
            border:0;
            background: #F4F4F4;
            color: #B5B5B5;
            margin-left: 20px;
        }
        .m_b_tab{
            background: #2F97FF !important;
            color: #fff !important;
            cursor:pointer;
        }
        .m_b_inpbox{
            float: right;
            margin-right: 20px;
            margin-bottom: 10px;
        }

        #zwinp{
            width: 189px;
			height: 28px;
			border:1px solid #E8E8E8;
          
        }
        #m_b_pagebox{
            display: flex;
            justify-content: space-around;
        }
        .m_b_inpbox2{
            display: none;
		}
		.m_b_bot_box{
			float:right;
			display: flex;
			margin-right: 20px;
			margin-top: 30px;
		}
		.m_b_bot_box > div{
			width: 70px;
			height: 30px;
			text-align: center;
			line-height: 30px;
			font-size: 14px;
			cursor:pointer;
		}
		.b_b_xuanze{
			color: #fff;
			background: #398DC0;
		}
		.b_b_quxiao{
			color: #999;
			border:1px solid #ccc;
			margin-left: 10px;
		}

	</style>
</head>

<body>
	<!-- 头部 -->
	<div class="headerpage">
			<div class="layui-container-fluid">
				<div class="layui-fluid">
					<div class="layui-row layui-col-space5">
						<div class="layui-col-md5" style="padding-right: 0px;">
							<div class="wltop">
								<div class="logo">
									<img src="./img/admin_logo.png" alt="">
								</div>
							</div>
						</div>
						<div class="layui-col-md7" style="padding-left: 0px;">
							<ul class="layui-nav layui-bg-blue tou">
								<li class="layui-nav-item layui-this"><a href="">首页</a></li>
								<li class="layui-nav-item">
									<a href="javascript:;">志愿者管理</a>
									<dl class="layui-nav-child">
											<dd><a href="removeUserPage_w.html">理事调整</a></dd>
											<dd><a href="addvipPage_w.html">增补会员单位</a></dd>
											<dd><a href="addVipPage1.html">添加文艺志愿者1</a></dd>
											<dd><a href="addVipPage2.html">添加文艺志愿者2</a></dd>
									</dl>
								</li>
								<li class="layui-nav-item">
									<a href="javascript:;">组织管理</a>
									<dl class="layui-nav-child">
										<dd><a href="">移动模块</a></dd>
										<dd><a href="">后台模版</a></dd>
										<dd><a href="">电商平台</a></dd>
									</dl>
								</li>
								<li class="layui-nav-item">
									<a href="javascript:;">活动管理</a>
									<dl class="layui-nav-child">
										<dd><a href="">移动模块</a></dd>
										<dd><a href="">后台模版</a></dd>
										<dd><a href="">电商平台</a></dd>
									</dl>
								</li>
								<li class="layui-nav-item">
									<a href="javascript:;">会员管理</a>
									<dl class="layui-nav-child">
											<dd><a href="vipfind_z.html">会员查询</a></dd>
										<dd><a href="./vipcheck_z.html">审核管理</a></dd>
										<dd><a href="./recommendedUnits_z.html">推荐单位管理</a></dd>
										<dd><a href="./vipduty_z.html">会员职位管理</a></dd>
										<dd><a href="./InvitationCode_z.html">邀请码管理</a></dd>
										<dd><a href="managementPage_w.html">通知管理</a></dd>
										<dd><a href="dataFind_w.html">会员信息统计</a></dd>
										<dd><a href="">会费管理</a></dd>
									</dl>
								</li>
								<li class="layui-nav-item">
									<a href="javascript:;">系统管理</a>
									<dl class="layui-nav-child">
										<dd><a href="">移动模块</a></dd>
										<dd><a href="">后台模版</a></dd>
										<dd><a href="">电商平台</a></dd>
									</dl>
								</li>
								<li class="layui-nav-item">
									<a href="javascript:;">统计报表</a>
									<dl class="layui-nav-child">
										<dd><a href="">移动模块</a></dd>
										<dd><a href="">后台模版</a></dd>
										<dd><a href="">电商平台</a></dd>
									</dl>
								</li>
								<li class="layui-nav-item"><a href="">系统管理员</a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	<!-- 内容 -->
	<div class="hytitle">
		<div class="hytitle_font2"></div>
		
	</div>
	<div class="mapdiv">


    </div>
    <div class="pop_up">
          <div class="send_message_box">
           <p>发送选择</p>
           <div class="m_b_but">
               <div class="geren m_b_tab">个人</div>
               <div class="zhiwei">职位</div>
           </div>
           <div class="m_b_inpbox">
               <span>推荐会员内职位：</span>
               <input id='zwinp' type="text"/>
           </div>
           <div class="m_b_inpbox m_b_inpbox2">
                <span>搜索会员职位：</span>
                <input id='zwinp' type="text"/>
            </div>

           <table class="layui-table" lay-skin="line">
				
                <thead>
                    <tr class="tatou">
                        <th style="width: 50px">
                            <input type="radio" name="" title="" class="popallchecked">
                            <span>全选</span>
                        </th>
                        <th>会内职务</th>
                        <th>人数</th>
                    </tr>
                </thead>
                <tbody id='zwbody'>
                 <tr>
                     <td><input type="checkbox" name="" title="" lay-skin="primary"></td>
                     <td>主席</td>
                     <td>100</td>
                    </tr>
                </tbody>
            </table>
            <div id="m_b_pagebox"></div>
            <div class="m_b_bot_box">
				<div class="b_b_xuanze">选择</div>
				<div class="b_b_quxiao">取消</div>
			</div>
          </div>
    </div>
	<div class="content">
		<div class="content_nav">
			<div class="content_navl"><span><i
						class="layui-icon layui-icon-home"></i>首页&nbsp;&nbsp;</span>/<span>&nbsp;会员管理&nbsp;&nbsp;</span>/&nbsp;通知管理
            </div>
            <div class="content_navi">
                <form class="layui-form" action="">
                    <div class="c_n_lis">
                        <div class="n_l_cont">
                            <p class="pp">标题：</p>
                            <input class="btinp" type="text" placeholder="标题" />
                        </div>
                        <div class="n_l_cont n_l_cont2">
                            <p class="pp">发布途径：</p>
                            <select name="hy" lay-verify="fbtjinp" id="fbtjinp">
                                <option value="">请选择(站内信,短信,微信)</option>
                            </select>
                        </div>
                        <div class="n_l_butbox">
                        <div class="chaxun">查询</div>
                        <div class="xinzheng">新增</div>
                        <!-- <div class="sanchu">删除</div> -->
                        </div>
                    </div>
            
                </form>
			</div>

			<div class="findres">
				<button type="button" class="layui-btn layui-btn-danger">批量删除</button>
				<table class="layui-table" lay-skin="line">
				
					<thead>
						<tr class="tatou">
							<th style="width: 50px">
								<input type="radio" name="" title="" lay-skin="primary">
							</th>
							<th>平台编号</th>
							<th>会员编号</th>
							<th>会员姓名</th>
							<th>入会日期</th>
							<th>推荐单位</th>
							<th>组织身份</th>
							<th>艺术门类</th>
							<th>地域</th>
							<th>操作</th>
						</tr>
					</thead>
					<tbody id='tb'>

					</tbody>
				</table>
				<div>

					<div id="layui"></div>
					<div></div>
					<div></div>
				</div>
			</div>
		</div>
	</div>


	<script src="./layui/layui.js"></script>
	<script src="./js/layuicommon.js"></script>
	<script src="./js/jquery.min.js"></script>
	<script src="./js/header.js"></script>
	<script src="./js/common.js"></script>
	<script src="./js/hyfind.js"></script>

	<script>
		var data = {

		};
		let popallflag = false;
		let treedata = [];
        let height = $('body').height();
        $('.pop_up').css('height', height+300);
		$(".tatou").css({ "background-color": "#059afe", "color": "white" });

            let objdata = [
                {zw:"主席",c:100},
                {zw:"主席",c:100},
                {zw:"主席",c:100},
                {zw:"主席",c:100},
                {zw:"主席",c:100},
                {zw:"主席",c:100},
                {zw:"主席",c:100},
                {zw:"主席",c:100},
                {zw:"主席",c:100},
                {zw:"主席",c:100},
                {zw:"主席",c:100},
                {zw:"主席",c:100},
                {zw:"主席",c:100},
                {zw:"主席",c:100},
            ];

        $('.b_b_xuanze').on('click',function () { 

			objdata.map((item,ind) => {

            //console.log($('m_b_c'+ind).is(':checked'));
	
			console.log($('.m_b_c'+ind).is(':checked'));
	
		   });
		});

			$('.popallchecked').on('click', function () {

			if(!popallflag){
				objdata.map((item, ind) => {
					//console.log($('m_b_c'+ind).is(':checked'));
					$('.m_b_c' + ind).prop('checked',true);

				});
				$('.popallchecked').prop('checked',true);
				popallflag = true;
			}else{
				objdata.map((item, ind) => {
					//console.log($('m_b_c'+ind).is(':checked'));
					$('.m_b_c' + ind).prop('checked',false);

				});
				$('.popallchecked').prop('checked',false);
				popallflag = false;
			}

			})

			//调用分页
			layui.use(['laypage', 'layer'], function () {
				var laypage = layui.laypage
					, layer = layui.layer;

				laypage.render({
					elem: 'm_b_pagebox'
					, count: objdata.length,
					layout: ['count', 'prev', 'page', 'next', 'skip'],
					limit: 9,
					jump: function (obj) {
						//模拟渲染
						document.getElementById('zwbody').innerHTML = function () {
							var arr = []
								, thisData = objdata.concat().splice(obj.curr * obj.limit - obj.limit, obj.limit);
							layui.each(thisData, function (index, item) {
								arr.push(auto2(item,index));
								console.log(item);
							});
							return arr.join('');
						}();
					}
				});
			});
            function auto2(obj,ind) {
			return '<tr><td><input type="radio" class="tbut m_b_c'+ind+'" title=""></td><td>'+ obj.zw+'</td><td>'+obj.c+'</td></tr>';
		}

		base.commonAjax('clav/member/getClavMemberList', data, function (data) {
			var pagedata = [];
			console.log(data);
			pagedata = data.data;
			//console.log(pagedata)

			//调用分页
			layui.use(['laypage', 'layer'], function () {
				var laypage = layui.laypage
					, layer = layui.layer;

				laypage.render({
					elem: 'layui'
					, count: pagedata.length,
					layout: ['count', 'prev', 'page', 'next', 'limit', 'skip'],
					limit: 2,
					jump: function (obj) {
						//模拟渲染
						document.getElementById('tb').innerHTML = function () {
							var arr = []
								, thisData = pagedata.concat().splice(obj.curr * obj.limit - obj.limit, obj.limit);
							layui.each(thisData, function (index, item) {
								arr.push(auto(item));
								console.log(item);
							});
							return arr.join('');
						}();
					}
				});
			});
		});

		function auto(obj) {
			return '<tr>' +
				'<td style="width: 50px">' +
				'<input type="checkbox" name="" title="" lay-skin="primary">' +
				'</td>' +
				'<td>' + 123 + '</td>' +
				'<td>' + obj.memberNo + '</td>' +
				'<td>' + obj.name + '</td>' +
				'<td>' + obj.createDate + '</td>' +
				'<td>' + obj.recommendType + '</td>' +
				'<td>' + obj.orgIdentityId + '</td>' +
				'<td>' + obj.artTypeId + '</td>' +
				'<td>' + obj.location + '</td>' +
				'<td>' +
				'<button class="layui-btn layui-btn-normal">重发</button>' +
				'<button class="layui-btn">编辑</button>' +
                '<button class="layui-btn layui-btn-danger">删除</button>'
                +
				'</td>' +
				'</tr>'
		}


		layui.use('form', function () {
			var form = layui.form; //只有执行了这一步，部分表单元素才会自动修饰成功
			form.on('#btnclear', function (elem) {
				//执行清空
				$("#arttype").empty();
				form.render();
			});

		})
	</script>
</body>

</html>